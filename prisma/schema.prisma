
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

//Assuming that this app is somewhat like, Hospital management system, where a User is Hospital and a hostipal
// can have multiple patients

model User{
  id                  Int               @id @default(autoincrement())
  email               String            @unique
  name                String
  password            String
  patients            Patient[]           @relation("userToPatient")
  createdAt           DateTime            @default(now())
  updatedAt           DateTime            @updatedAt
}


model Patient{
  id                              Int                 @id @default(autoincrement())
  name                            String  
  heartRateDetails                HeartRate?          @relation("patientToHeartRate")
  disease                         Disease?            @relation("patientToDisease")  
  userId                          Int               
  user                            User                @relation("userToPatient",references: [id],fields: [userId])
  createdAt                       DateTime            @default(now())
  updatedAt                       DateTime            @updatedAt
}

model HeartRate{
    id                            Int             @id @default(autoincrement())
    patient                       Patient         @relation("patientToHeartRate",references: [id],fields: [patientId])
    patientId                     Int             @unique
    value                         String          
    //more heart rate metrics here
}

model Disease{
  id                            Int             @id @default(autoincrement())
  name                          String  
  patient                      Patient          @relation("patientToDisease",references: [id],fields: [patientId])
  patientId                     Int             @unique  
}